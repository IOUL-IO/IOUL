<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IOUL</title>
    <link rel="icon" href="favicon.png" type="image/png" />
    <link rel="stylesheet" href="styles.css" />
    <!-- No extra CSS changes needed in your stylesheet -->
  </head>
  <body class="non-fullscreen">
    <!-- Layers -->
    <div class="layer-one"></div>
    <div class="layer-two"></div>
    <div class="layer-three"></div>

    <div class="page-content">
      <!-- Static lines -->
      <div class="line original"></div>
      <div class="line second"></div>
      <div class="line third"></div>
      <div class="line fourth"></div>

      <!-- Grid numbers 1-16 -->
      <span class="grid-number num1">1</span>
      <span class="grid-number num2">2</span>
      <span class="grid-number num3">3</span>
      <span class="grid-number num4">4</span>
      <span class="grid-number num5">5</span>
      <span class="grid-number num6">6</span>
      <span class="grid-number num7">7</span>
      <span class="grid-number num8">8</span>
      <span class="grid-number num9">9</span>
      <span class="grid-number num10">10</span>
      <span class="grid-number num11">11</span>
      <span class="grid-number num12">12</span>
      <span class="grid-number num13">13</span>
      <span class="grid-number num14">14</span>
      <span class="grid-number num15">15</span>
      <span class="grid-number num16">16</span>

      <!-- Dashed grid lines 1-16 -->
      <div class="grid-dashed dashed01"></div>
      <div class="grid-dashed dashed02"></div>
      <div class="grid-dashed dashed03"></div>
      <div class="grid-dashed dashed04"></div>
      <div class="grid-dashed dashed05"></div>
      <div class="grid-dashed dashed06"></div>
      <div class="grid-dashed dashed07"></div>
      <div class="grid-dashed dashed08"></div>
      <div class="grid-dashed dashed09"></div>
      <div class="grid-dashed dashed10"></div>
      <div class="grid-dashed dashed11"></div>
      <div class="grid-dashed dashed12"></div>
      <div class="grid-dashed dashed13"></div>
      <div class="grid-dashed dashed14"></div>
      <div class="grid-dashed dashed15"></div>
      <div class="grid-dashed dashed16"></div>

      <!-- Slide container and time texts -->
      <div class="slide-container">
        <div class="line dashed"></div>
        <div class="line dashed second-dashed"></div>
        <div class="line dashed third-dashed"></div>
        <div class="line dashed fourth-dashed"></div>
        <span class="time-text">10:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
        <span class="time-text second-time-text">11:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
        <span class="time-text third-time-text">12:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
        <span class="time-text fourth-time-text">1:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
      </div>

      <div class="hover-area"></div>
      <!-- Chat text (always at left:6.41vw) -->
      <span class="chat-text" id="chatText" style="left: 6.41vw;">cHAT . . .</span>

      <!-- 
           Menu container: originally positioned at left:29vw (inside layer two).
           We now remove the inline left offsets from menu texts so that they appear at 29vw.
      -->
      <div class="menu-container" style="left:29vw;">
        <span class="custom-text" style="top: 35.4vh; left: 0vw;" id="online-assets">
          - OnL1nE ASSETS
        </span>
        <span class="custom-text" style="top: 41.6vh; left: 0vw;" id="linkup-center">
          - L1nKUP cEnTER
        </span>
        <span class="custom-text" style="top: 47.8vh; left: 0vw;" id="delivery-line">
          - DEL1VERY L1nE
        </span>
        <span class="custom-text" style="top: 54vh; left: 0vw;" id="internal-unit">
          - 1nTERnAL Un1T
        </span>
      </div>

      <!-- Other custom-text elements (unchanged) -->
      <span class="custom-text" style="top: 35.4vh; left: -42.59vw;">AccOUnT 1nFO</span>
      <span class="custom-text" style="top: 35.4vh; left: -28.22vw;">i-cHAT: OPEn</span>
      <span class="custom-text" style="top: 41.6vh; left: -28.22vw;">i-MAIL: OPEn</span>
      <span class="custom-text" style="top: 41.6vh; left: -42.59vw;">AcT1V1TY 1nFO</span>
      <span class="custom-text" style="top: 54vh; left: -42.59vw;">YOUR L1ST</span>
      <span class="custom-text" style="top: 60.2vh; left: -42.59vw;">cHAnnELS</span>
      <span class="custom-text" style="top: 66.4vh; left: -42.59vw;">OFFER HUB</span>
      <span class="custom-text" style="top: 72.6vh; left: -42.59vw;">YOUR JOBS</span>
      <span class="custom-text" style="top: 54vh; left: -23.29vw;">OPEn</span>
      <span class="custom-text" style="top: 60.2vh; left: -23.29vw;">OPEn</span>
      <span class="custom-text" style="top: 66.4vh; left: -23.29vw;">OPEn</span>
      <span class="custom-text" style="top: 72.6vh; left: -23.29vw;">OPEn</span>
      
      <!-- Custom line element -->
      <div class="custom-line"></div>

      <div class="slide-trigger"></div>
      <div class="slide-trigger-reverse"></div>
    </div>

    <!-- Scripts -->
    <script>
      // Basic functions: page fade, fullscreen, and chat input (same as your original code)
      const pageContent = document.querySelector('.page-content');
      let pageFadedIn = false;
      function fadeInPage() {
        pageContent.style.opacity = '1';
        pageFadedIn = true;
      }
      document.addEventListener('mousemove', function onFirstMouseMove() {
        if (!pageFadedIn) { fadeInPage(); }
        document.removeEventListener('mousemove', onFirstMouseMove);
      });
      const EDGE_MARGIN = 11;
      document.addEventListener('click', (event) => {
        const { clientX: x, clientY: y } = event;
        const { innerWidth: width, innerHeight: height } = window;
        if (!document.fullscreenElement &&
            (x <= EDGE_MARGIN || x >= width - EDGE_MARGIN ||
             y <= EDGE_MARGIN || y >= height - EDGE_MARGIN)) {
          document.documentElement.requestFullscreen();
        }
      });
      const inverseTrigger = document.querySelector('.slide-trigger');
      inverseTrigger.addEventListener('click', (event) => {
        event.stopPropagation();
        document.querySelector('.slide-container').classList.remove('animate-slide');
        document.querySelector('.page-content').classList.remove('animate-grid');
      });
      const forwardTrigger = document.querySelector('.slide-trigger-reverse');
      forwardTrigger.addEventListener('click', (event) => {
        event.stopPropagation();
        document.querySelector('.slide-container').classList.add('animate-slide');
        document.querySelector('.page-content').classList.add('animate-grid');
      });
      const chatTextEl = document.getElementById('chatText');
      let chatShownOnce = false;
      const hoverArea = document.querySelector('.hover-area');
      hoverArea.addEventListener('mouseenter', () => {
        if (!chatShownOnce && pageFadedIn) {
          chatTextEl.style.opacity = '1';
          chatShownOnce = true;
        }
      });
      chatTextEl.addEventListener('click', () => {
        const chatInput = document.createElement('input');
        chatInput.type = 'text';
        chatInput.classList.add('chat-input');
        chatTextEl.insertAdjacentElement('afterend', chatInput);
        chatTextEl.remove();
        chatInput.focus();
      });
      
      // Menu interactions and submenu functions
      const menuContainer = document.querySelector(".menu-container");
      let currentMode = "normal";
      
      // Functions to slide the entire menu container.
      // Initially, menuContainer is at left:29vw. When Region A is clicked,
      // we slide it to left:6.41vw so that its children (with inline left:0vw)
      // appear at 6.41vw.
      function slideMenuToLeft() {
        menuContainer.style.transition = "left 0.7s ease";
        menuContainer.style.left = "6.41vw";
      }
      function slideMenuToRight() {
        menuContainer.style.transition = "left 0.7s ease";
        menuContainer.style.left = "29vw";
      }
      
      // Submenu functions:
      // When a menu item is clicked (after the container slide), we trigger the vertical slideâ€down.
      // Submenu items are created with inline left:7.4vw.
      function addSubmenuItem(text, top) {
        let span = document.createElement("span");
        span.className = "custom-text new-text";
        span.style.top = top + "vh";
        span.style.left = "7.4vw"; // so that effective absolute left becomes ~7.4vw
        span.textContent = text;
        menuContainer.appendChild(span);
        setTimeout(() => { span.classList.add("visible"); }, 10);
      }
      function closeSubmenu() {
        const submenus = menuContainer.querySelectorAll('.new-text');
        submenus.forEach(el => {
          el.style.transition = "opacity 0.3s ease";
          el.classList.remove("visible");
        });
        setTimeout(() => {
          submenus.forEach(el => el.remove());
        }, 300);
      }
      function openOnlineAssets() {
        setTimeout(() => {
          addSubmenuItem("cOnTEnT", 41.6);
          addSubmenuItem("LEARn1ng", 47.8);
        }, 700);
      }
      function openLinkupCenter() {
        setTimeout(() => {
          addSubmenuItem("cHAnnELS", 47.8);
          addSubmenuItem("LABOUR", 54);
        }, 700);
      }
      function openDeliveryLine() {
        setTimeout(() => {
          addSubmenuItem("cL1ENTS", 54);
          addSubmenuItem("PROJEcTS", 60.2);
        }, 700);
      }
      function openInternalUnit() {
        setTimeout(() => {
          addSubmenuItem("1nVEnTORY", 60.2);
          addSubmenuItem("DEVOPS", 66.4);
          addSubmenuItem("F1nAncES", 72.6);
          addSubmenuItem("1T-cEnTER", 78.8);
        }, 700);
      }
      
      // Attach click handlers for submenu actions on menu items.
      document.getElementById("online-assets").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMode === "menu") {
          openOnlineAssets();
        }
      });
      document.getElementById("linkup-center").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMode === "menu") {
          openLinkupCenter();
        }
      });
      document.getElementById("delivery-line").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMode === "menu") {
          openDeliveryLine();
        }
      });
      document.getElementById("internal-unit").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMode === "menu") {
          openInternalUnit();
        }
      });
      
      // Global region handlers
      // Region A: Clicking here should slide the chat text and the menu container.
      document.addEventListener("click", (event) => {
        const vwUnit = window.innerWidth / 100;
        const vhUnit = window.innerHeight / 100;
        const leftMinA = 28.86 * vwUnit;
        const leftMaxA = 32.43 * vwUnit;
        const yMin = 28.5 * vhUnit;
        const yMax = 84 * vhUnit;
        if (event.clientX >= leftMinA && event.clientX <= leftMaxA &&
            event.clientY >= yMin && event.clientY <= yMax) {
          if (currentMode === "normal") {
            chatTextEl.style.transition = "left 0.7s ease";
            chatTextEl.style.left = "-22.59vw";  // as per original behavior
            slideMenuToLeft();
            currentMode = "menu";
          } else if (currentMode === "menu") {
            chatTextEl.style.transition = "left 0.7s ease";
            chatTextEl.style.left = "6.41vw";
            slideMenuToRight();
            // Remove any open submenu items
            const submenus = menuContainer.querySelectorAll('.new-text');
            submenus.forEach(el => el.remove());
            currentMode = "normal";
          }
        }
      });
      
      // Region B: For custom mode (keeping your original behavior)
      document.addEventListener("click", (event) => {
        const vwUnit = window.innerWidth / 100;
        const vhUnit = window.innerHeight / 100;
        const leftMinB = 0;
        const leftMaxB = 6.41 * vwUnit;
        const yMin = 28.5 * vhUnit;
        const yMax = 84 * vhUnit;
        if (event.clientX >= leftMinB && event.clientX <= leftMaxB &&
            event.clientY >= yMin && event.clientY <= yMax) {
          if (currentMode === "normal") {
            chatTextEl.style.transition = "opacity 0.3s ease";
            chatTextEl.style.opacity = "0";
            const customTexts = document.querySelectorAll('.custom-text:not(.menu-container .custom-text)');
            customTexts.forEach(el => el.classList.add("custom-slide"));
            const customLine = document.querySelector('.custom-line');
            if(customLine) { customLine.classList.add("custom-slide"); }
            currentMode = "custom";
          } else if (currentMode === "custom") {
            const customTexts = document.querySelectorAll('.custom-text:not(.menu-container .custom-text)');
            customTexts.forEach(el => el.classList.remove("custom-slide"));
            const customLine = document.querySelector('.custom-line');
            if(customLine) { customLine.classList.remove("custom-slide"); }
            setTimeout(() => {
              chatTextEl.style.transition = "opacity 0.7s ease";
              chatTextEl.style.opacity = "1";
              currentMode = "normal";
            }, 700);
          } else if (currentMode === "menu") {
            chatTextEl.style.transition = "left 0.7s ease";
            chatTextEl.style.left = "6.41vw";
            slideMenuToRight();
            const submenus = menuContainer.querySelectorAll('.new-text');
            submenus.forEach(el => el.remove());
            currentMode = "normal";
          }
        }
      });
    </script>
  </body>
</html>
