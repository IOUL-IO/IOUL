<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IOUL</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="non-fullscreen">
  <div class="layer-one"></div>
  <div class="layer-two"></div>
  <div class="layer-three"></div>

  <div class="page-content">
    <!-- Main menu items (initially at left:29vw) -->
    <div class="menu-items">
      <span class="custom-text menu-item" style="top:36.1vh; left:29vw;" id="online-assets">
        OnL1nE ASSETS:
      </span>
      <span class="custom-text menu-item" style="top:43.2vh; left:29vw;" id="linkup-center">
        L1nKUP cEnTER:
      </span>
      <span class="custom-text menu-item" style="top:50.3vh; left:29vw;" id="delivery-line">
        DEL1VERY L1nE:
      </span>
      <span class="custom-text menu-item" style="top:57.4vh; left:29vw;" id="internal-unit">
        1nTERnAL Un1T:
      </span>
    </div>

    <!-- The covering layer -->
    <div class="layer-four"></div>

    <!-- Community Items Container (initially at left:35.41vw) -->
    <div class="community-items-container" style="position: absolute; z-index: 1; left:35.41vw;">
      <span style="position: absolute; top:35.4vh; left:35.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        cOMMUn1T1ES
      </span>
      <span style="position: absolute; top:41.6vh; left:35.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        UPDATE L1ST
      </span>
      <span style="position: absolute; top:53vh; left:35.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        ADD-On SHOP
      </span>
      <span style="position: absolute; top:59.2vh; left:35.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        1OUL cEnTER
      </span>
      <div class="custom-line" style="position: absolute; top:47.8vh; left:35.41vw; width:22.48vw; height:1px; background-color:rgba(230,230,230,0.28); transition: left 0.7s ease, transform 0.7s ease; z-index:1;">
      </div>
    </div>

    <!-- Zero Items Container (initially at left:57.41vw) -->
    <div class="zero-items-container" style="position: absolute; z-index: 1; left:57.41vw;">
      <span class="right-flow"
            style="position: absolute; top:35.4vh; left:57.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        0
      </span>
      <span class="right-flow"
            style="position: absolute; top:41.6vh; left:57.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        0
      </span>
      <span class="right-flow"
            style="position: absolute; top:53vh; left:57.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        0
      </span>
      <span class="right-flow"
            style="position: absolute; top:59.2vh; left:57.41vw; z-index:1; font-family:'Distill Expanded', sans-serif; color:#111111; letter-spacing:0.28vw; font-size:0.47rem; text-shadow:0.001rem 0 0 #cacaca, -0.001rem 0 0 #cacaca; transition: transform 0.7s ease; line-height:1.6; overflow: visible;">
        0
      </span>
    </div>

    <!-- Other content (lines, slide-container, chat-text, grid, headings, account group) -->
    <div class="other-content">
      <div class="line original"></div>
      <div class="line second"></div>
      <div class="line third"></div>
      <div class="line fourth"></div>

      <div class="slide-container">
        <div class="line dashed"></div>
        <div class="line dashed second-dashed"></div>
        <div class="line dashed third-dashed"></div>
        <div class="line dashed fourth-dashed"></div>
        <span class="time-text">10:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
        <span class="time-text second-time-text">11:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
        <span class="time-text third-time-text">12:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
        <span class="time-text fourth-time-text">1:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
      </div>

      <div class="hover-area"></div>
      <span class="chat-text" id="chatText">cHAT . . .</span>

      <!-- Grid numbers -->
      <span class="grid-number num1">1</span>
      <span class="grid-number num2">2</span>
      <span class="grid-number num3">3</span>
      <span class="grid-number num4">4</span>
      <span class="grid-number num5">5</span>
      <span class="grid-number num6">6</span>
      <span class="grid-number num7">7</span>
      <span class="grid-number num8">8</span>
      <span class="grid-number num9">9</span>
      <span class="grid-number num10">10</span>
      <span class="grid-number num11">11</span>
      <span class="grid-number num12">12</span>
      <span class="grid-number num13">13</span>
      <span class="grid-number num14">14</span>
      <span class="grid-number num15">15</span>
      <span class="grid-number num16">16</span>

      <!-- Dashed grid lines -->
      <span class="grid-dashed dashed01"></span>
      <span class="grid-dashed dashed02"></span>
      <span class="grid-dashed dashed03"></span>    
      <span class="grid-dashed dashed04"></span>
      <span class="grid-dashed dashed05"></span>
      <span class="grid-dashed dashed06"></span>
      <span class="grid-dashed dashed07"></span>
      <span class="grid-dashed dashed08"></span>
      <span class="grid-dashed dashed09"></span>
      <span class="grid-dashed dashed10"></span>
      <span class="grid-dashed dashed11"></span>
      <span class="grid-dashed dashed12"></span>
      <span class="grid-dashed dashed13"></span>
      <span class="grid-dashed dashed14"></span>
      <span class="grid-dashed dashed15"></span>
      <span class="grid-dashed dashed16"></span>

      <!-- Headings group -->
      <div class="heading-container"
           style="top:35.4vh; left:6.41vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="heading">
        <span class="custom-text heading-flow">AccOUnT</span>
      </div>
      <div class="heading-container"
           style="top:41.6vh; left:6.41vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="heading">
        <span class="custom-text heading-flow">AcT1V1TY</span>
      </div>
      <div class="heading-container"
           style="top:54vh; left:6.41vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="heading">
        <span class="custom-text heading-flow">L1nK-UPS</span>
      </div>
      <div class="heading-container"
           style="top:60.2vh; left:6.41vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="heading">
        <span class="custom-text heading-flow">FAn L1ST</span>
      </div>
      <div class="heading-container"
           style="top:66.4vh; left:6.41vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="heading">
        <span class="custom-text heading-flow">V1P LIST</span>
      </div>
      <div class="heading-container"
           style="top:72.6vh; left:6.41vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="heading">
        <span class="custom-text heading-flow">LEAgUES</span>
      </div>

      <!-- Account group -->
      <div class="account-container"
           style="top:35.4vh; left:28.91vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="account">
        <span class="custom-text right-flow" style="position:absolute; right:0;">
          i-cHAT: 0
        </span>
      </div>
      <div class="account-container"
           style="top:41.6vh; left:28.91vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="account">
        <span class="custom-text right-flow" style="position:absolute; right:0;">
          i-MAIL: 0
        </span>
      </div>
      <div class="account-container"
           style="top:54vh; left:28.91vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="account">
        <span class="custom-text right-flow" style="position:absolute; right:0;">
          0
        </span>
      </div>
      <div class="account-container"
           style="top:60.2vh; left:28.91vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="account">
        <span class="custom-text right-flow" style="position:absolute; right:0;">
          0
        </span>
      </div>
      <div class="account-container"
           style="top:66.4vh; left:28.91vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="account">
        <span class="custom-text right-flow" style="position:absolute; right:0;">
          0
        </span>
      </div>
      <div class="account-container"
           style="top:72.6vh; left:28.91vw; transform:translateX(-49vw);"
           data-offset="-49" data-slide-group="account">
        <span class="custom-text right-flow" style="position:absolute; right:0;">
          0
        </span>
      </div>

      <div class="custom-line" style="left: -42.59vw;"></div>
    </div>
  </div>

  <div class="slide-triggers">
    <div class="slide-trigger"></div>
    <div class="slide-trigger-reverse"></div>
  </div>

  <script>
    /* --- Fade-in & Fullscreen --- */
    const pageContent = document.querySelector('.page-content');
    let pageFadedIn = false;
    function fadeInPage() {
      pageContent.style.opacity = '1';
      pageFadedIn = true;
    }
    document.addEventListener('mousemove', function onFirstMouseMove() {
      if (!pageFadedIn) { fadeInPage(); }
      document.removeEventListener('mousemove', onFirstMouseMove);
    });

    /* Helper Functions */
    function originalMenuSlideIn() {
      const chatTextEl = document.getElementById('chatText');
      if (chatTextEl) {
        chatTextEl.style.transition = "opacity 0.1s ease";
        chatTextEl.style.opacity = "0";
        setTimeout(() => {
          document.querySelectorAll('.menu-items .menu-item').forEach(el => {
            el.classList.add('menu-slide');
          });
          setTimeout(() => {
            document.querySelector('.menu-items').classList.add('raised');
          }, 700);
        }, 110);
      }
      slideState = "menu";
    }

    function originalAccountSlideIn() {
      const chatTextEl = document.getElementById('chatText');
      if (chatTextEl) {
        chatTextEl.style.transition = "opacity 0.1s ease";
        chatTextEl.style.opacity = "0";
        setTimeout(() => {
          document.querySelectorAll('.other-content > .custom-text:not(.menu-item)').forEach(el => {
            if (!el.dataset.originalLeft) {
              el.dataset.originalLeft = el.style.left;
            }
            const original = parseFloat(el.dataset.originalLeft);
            el.style.left = (original + 49) + "vw";
          });
          const customLine = document.querySelector('.custom-line');
          if (customLine) {
            if (!customLine.dataset.originalLeft) {
              customLine.dataset.originalLeft = customLine.style.left;
            }
            const originalLine = parseFloat(customLine.dataset.originalLeft);
            customLine.style.left = (originalLine + 49) + "vw";
          }
          document.querySelectorAll('.heading-container[data-slide-group="heading"]').forEach(box => {
            box.style.transform = "translateX(0)";
          });
          document.querySelectorAll('.account-container[data-slide-group="account"]').forEach(box => {
            box.style.transform = "translateX(0)";
          });
        }, 110);
      }
      slideState = "heading";
    }

    function slideMenuLeft() {
      document.querySelectorAll('.menu-items .menu-item').forEach(el => {
        el.style.transition = "left 0.7s ease";
        el.style.left = "0vw";
      });
      let comm = document.querySelector('.community-items-container');
      comm.style.transition = "left 0.7s ease";
      comm.style.left = "6.41vw";
      let zero = document.querySelector('.zero-items-container');
      zero.style.transition = "left 0.7s ease";
      zero.style.left = "28.41vw";
      slideState = "menu-left";
    }

    function slideMenuBack() {
      document.querySelectorAll('.menu-items .menu-item').forEach(el => {
        el.style.transition = "left 0.7s ease";
        el.style.left = "29vw";
      });
      let comm = document.querySelector('.community-items-container');
      comm.style.transition = "left 0.7s ease";
      comm.style.left = "35.41vw";
      let zero = document.querySelector('.zero-items-container');
      zero.style.transition = "left 0.7s ease";
      zero.style.left = "57.41vw";
      slideState = "menu";
    }

    function inverseMenuAnimation() {
      document.querySelectorAll('.menu-items .menu-item').forEach(el => {
        el.style.transition = "left 0.7s ease";
        el.style.left = "29vw";
      });
      document.querySelector('.menu-items').classList.remove('raised');
      const chatTextEl = document.getElementById('chatText');
      if (chatTextEl) {
        setTimeout(() => {
          chatTextEl.style.transition = "opacity 0.7s ease";
          chatTextEl.style.opacity = "1";
        }, 700);
      }
      slideState = "none";
    }

    function inverseAccountAnimation() {
      document.querySelectorAll('.heading-container[data-slide-group="heading"]').forEach(box => {
        box.style.transform = `translateX(${box.dataset.offset}vw)`;
      });
      document.querySelectorAll('.account-container[data-slide-group="account"]').forEach(box => {
        box.style.transform = `translateX(${box.dataset.offset}vw)`;
      });
      document.querySelectorAll('.other-content > .custom-text:not(.menu-item)').forEach(el => {
        if (el.dataset.originalLeft) {
          el.style.left = el.dataset.originalLeft;
        }
      });
      const customLine = document.querySelector('.custom-line');
      if (customLine && customLine.dataset.originalLeft) {
        customLine.style.left = customLine.dataset.originalLeft;
      }
      setTimeout(() => {
        const chatTextEl = document.getElementById('chatText');
        if (chatTextEl) {
          chatTextEl.style.transition = "opacity 0.7s ease";
          chatTextEl.style.opacity = "1";
        }
      }, 700);
      slideState = "none";
    }

    /* Global slideState: "none", "menu", "menu-left", or "heading" */
    let slideState = "none";
    const chatText = document.getElementById('chatText');
    chatText.style.pointerEvents = 'none';
    chatText.style.zIndex = '-1';
    let chatShownOnce = false;
    const hoverArea = document.querySelector('.hover-area');
    document.addEventListener('mousemove', (event) => {
      if (!chatShownOnce && pageFadedIn) {
        const rect = hoverArea.getBoundingClientRect();
        if (event.clientX >= rect.left && event.clientX <= rect.right &&
            event.clientY >= rect.top && event.clientY <= rect.bottom) {
          chatText.style.opacity = '1';
          chatText.style.pointerEvents = 'auto';
          chatText.style.zIndex = '10';
          chatShownOnce = true;
        }
      }
    });
    chatText.addEventListener('click', (event) => {
      event.stopPropagation();
      const chatInput = document.createElement('input');
      chatInput.type = 'text';
      chatInput.classList.add('chat-input');
      chatInput.id = 'chatText';
      chatText.replaceWith(chatInput);
      chatInput.focus();
    });

    /* Submenu forced-close logic */
    let currentMenu = null;
    function quickRemoveSubmenu() {
      const newTexts = document.querySelectorAll('.new-text');
      newTexts.forEach(span => {
        span.style.transition = 'opacity 0.1s ease';
        span.classList.remove('visible');
      });
      setTimeout(() => {
        newTexts.forEach(span => span.remove());
        currentMenu = null;
      }, 100);
      document.getElementById("linkup-center").classList.remove("slide-down");
      document.getElementById("delivery-line").classList.remove("slide-down");
      document.getElementById("internal-unit").classList.remove("slide-down");
    }
    function closeSubmenu() {
      const newTexts = document.querySelectorAll('.new-text');
      newTexts.forEach(span => {
        span.style.transition = 'opacity 0.3s ease';
        span.classList.remove('visible');
      });
      setTimeout(() => {
        newTexts.forEach(span => span.remove());
        currentMenu = null;
      }, 300);
      document.getElementById("linkup-center").classList.remove("slide-down");
      document.getElementById("delivery-line").classList.remove("slide-down");
      document.getElementById("internal-unit").classList.remove("slide-down");
    }
    function forceCloseSubmenuThen(fn) {
      if (currentMenu !== null) {
        quickRemoveSubmenu();
        setTimeout(fn, 100);
      } else {
        fn();
      }
    }

    /* Event Listener for region 28.86–32.43vw */
    document.addEventListener('click', (event) => {
      if (event.target.closest('.chat-text') || event.target.closest('.chat-input')) return;
      const vwUnit = window.innerWidth / 100;
      const vhUnit = window.innerHeight / 100;
      const leftMin = 28.86 * vwUnit;
      const leftMax = 32.43 * vwUnit;
      const yMin = 28.5 * vhUnit;
      const yMax = 84 * vhUnit;
      if (event.clientX >= leftMin && event.clientX <= leftMax &&
          event.clientY >= yMin && event.clientY <= yMax) {
        event.stopPropagation();
        forceCloseSubmenuThen(() => {
          if (slideState === "none") {
            originalMenuSlideIn();
          } else if (slideState === "menu") {
            slideMenuLeft();
          } else if (slideState === "heading") {
            inverseAccountAnimation();
          }
        });
      }
    }, true);

    /* Event Listener for region 0–6.37vw */
    document.addEventListener('click', (event) => {
      if (event.target.closest('.chat-text') || event.target.closest('.chat-input')) return;
      const vwUnit = window.innerWidth / 100;
      const vhUnit = window.innerHeight / 100;
      const leftMin = 0;
      const leftMax = 6.37 * vwUnit;
      const yMin = 28.5 * vhUnit;
      const yMax = 84 * vhUnit;
      if (event.clientX >= leftMin && event.clientX <= leftMax &&
          event.clientY >= yMin && event.clientY <= yMax) {
        event.stopPropagation();
        forceCloseSubmenuThen(() => {
          if (slideState === "none") {
            originalAccountSlideIn();
          } else if (slideState === "menu-left") {
            slideMenuBack();
          } else if (slideState === "menu") {
            inverseMenuAnimation();
          } else if (slideState === "heading") {
            inverseAccountAnimation();
          }
        });
      }
    }, true);

    /* Slide triggers */
    const inverseTrigger = document.querySelector('.slide-trigger');
    inverseTrigger.addEventListener('click', (event) => {
      event.stopPropagation();
      forceCloseSubmenuThen(() => {
        document.querySelector('.slide-container').classList.remove('animate-slide');
        document.querySelector('.other-content').classList.remove('animate-grid');
      });
    });
    const forwardTrigger = document.querySelector('.slide-trigger-reverse');
    forwardTrigger.addEventListener('click', (event) => {
      event.stopPropagation();
      forceCloseSubmenuThen(() => {
        document.querySelector('.slide-container').classList.add('animate-slide');
        document.querySelector('.other-content').classList.add('animate-grid');
      });
    });

    /* Submenu expansion functions */
    function openOnlineAssets() {
      if (slideState === "menu-left") {
        slideMenuBack();
        setTimeout(() => {
          document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
          document.getElementById("linkup-center").classList.add("slide-down");
          document.getElementById("delivery-line").classList.add("slide-down");
          document.getElementById("internal-unit").classList.add("slide-down");
          setTimeout(() => {
            addNewText("- cMS", 40.1, 6.4);
            addNewText("- LMS", 44.1, 6.4);
            addNewText("- WEB", 48.1, 6.4);
          }, 700);
        }, 750);
      } else {
        document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
        document.getElementById("linkup-center").classList.add("slide-down");
        document.getElementById("delivery-line").classList.add("slide-down");
        document.getElementById("internal-unit").classList.add("slide-down");
        setTimeout(() => {
          addNewText("- cMS", 40.1, 6.4);
          addNewText("- LMS", 44.1, 6.4);
          addNewText("- WEB", 48.1, 6.4);
        }, 700);
      }
    }
    function openLinkupCenter() {
      if (slideState === "menu-left") {
        slideMenuBack();
        setTimeout(() => {
          document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
          document.getElementById("delivery-line").classList.add("slide-down");
          document.getElementById("internal-unit").classList.add("slide-down");
          setTimeout(() => {
            addNewText("- cOM", 47.2, 6.4);
            addNewText("- JOB", 51.2, 6.4);
            addNewText("- HR", 55.2, 6.4);
          }, 700);
        }, 750);
      } else {
        document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
        document.getElementById("delivery-line").classList.add("slide-down");
        document.getElementById("internal-unit").classList.add("slide-down");
        setTimeout(() => {
          addNewText("- cOM", 47.2, 6.4);
          addNewText("- JOB", 51.2, 6.4);
          addNewText("- HR", 55.2, 6.4);
        }, 700);
      }
    }
    function openDeliveryLine() {
      if (slideState === "menu-left") {
        slideMenuBack();
        setTimeout(() => {
          document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
          setTimeout(() => {
            addNewText("- cRM", 54.3, 6.4);
            addNewText("- OPS", 58.3, 6.4);
            addNewText("- PM", 62.3, 6.4);
          }, 700);
        }, 750);
      } else {
        document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
        setTimeout(() => {
          addNewText("- cRM", 54.3, 6.4);
          addNewText("- OPS", 58.3, 6.4);
          addNewText("- PM", 62.3, 6.4);
        }, 700);
      }
    }
    function openInternalUnit() {
      if (slideState === "menu-left") {
        slideMenuBack();
        setTimeout(() => {
          document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
          setTimeout(() => {
            addNewText("- 1nV", 61.4, 6.4);
            addNewText("- FMS", 65.4, 6.4);
            addNewText("- 1T", 69.4, 6.4);
          }, 700);
        }, 750);
      } else {
        document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
        setTimeout(() => {
          addNewText("- 1nV", 61.4, 6.4);
          addNewText("- FMS", 65.4, 6.4);
          addNewText("- 1T", 69.4, 6.4);
        }, 700);
      }
    }
    function addNewText(text, topVH, leftVW) {
      const span = document.createElement("span");
      span.className = "custom-text new-text";
      span.style.top = topVH + "vh";
      span.style.left = leftVW + "vw";
      span.textContent = text;
      document.querySelector(".other-content").appendChild(span);
      setTimeout(() => {
        span.classList.add("visible");
      }, 10);
    }

    /* Global Event Listeners for region clicks */
    document.addEventListener('click', (event) => {
      if (event.target.closest('.chat-text') || event.target.closest('.chat-input')) return;
      const vwUnit = window.innerWidth / 100;
      const vhUnit = window.innerHeight / 100;
      const leftMin = 28.86 * vwUnit;
      const leftMax = 32.43 * vwUnit;
      const yMin = 28.5 * vhUnit;
      const yMax = 84 * vhUnit;
      if (event.clientX >= leftMin && event.clientX <= leftMax &&
          event.clientY >= yMin && event.clientY <= yMax) {
        event.stopPropagation();
        forceCloseSubmenuThen(() => {
          if (slideState === "none") {
            originalMenuSlideIn();
          } else if (slideState === "menu") {
            slideMenuLeft();
          } else if (slideState === "heading") {
            inverseAccountAnimation();
          }
        });
      }
    }, true);

    document.addEventListener('click', (event) => {
      if (event.target.closest('.chat-text') || event.target.closest('.chat-input')) return;
      const vwUnit = window.innerWidth / 100;
      const vhUnit = window.innerHeight / 100;
      const leftMin = 0;
      const leftMax = 6.37 * vwUnit;
      const yMin = 28.5 * vhUnit;
      const yMax = 84 * vhUnit;
      if (event.clientX >= leftMin && event.clientX <= leftMax &&
          event.clientY >= yMin && event.clientY <= yMax) {
        event.stopPropagation();
        forceCloseSubmenuThen(() => {
          if (slideState === "none") {
            originalAccountSlideIn();
          } else if (slideState === "menu-left") {
            slideMenuBack();
          } else if (slideState === "menu") {
            inverseMenuAnimation();
          } else if (slideState === "heading") {
            inverseAccountAnimation();
          }
        });
      }
    }, true);

    /* Slide triggers (unchanged) */
    const inverseTrigger = document.querySelector('.slide-trigger');
    inverseTrigger.addEventListener('click', (event) => {
      event.stopPropagation();
      forceCloseSubmenuThen(() => {
        document.querySelector('.slide-container').classList.remove('animate-slide');
        document.querySelector('.other-content').classList.remove('animate-grid');
      });
    });
    const forwardTrigger = document.querySelector('.slide-trigger-reverse');
    forwardTrigger.addEventListener('click', (event) => {
      event.stopPropagation();
      forceCloseSubmenuThen(() => {
        document.querySelector('.slide-container').classList.add('animate-slide');
        document.querySelector('.other-content').classList.add('animate-grid');
      });
    });

    /* Menu item click handlers with submenu expansion */
    document.getElementById("online-assets").addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentMenu === "online-assets") {
        closeSubmenu();
      } else {
        if (slideState === "menu-left") {
          slideMenuBack();
          setTimeout(() => {
            document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
            openOnlineAssets();
            currentMenu = "online-assets";
          }, 750);
        } else if (currentMenu !== null) {
          closeSubmenu();
          setTimeout(() => {
            openOnlineAssets();
            currentMenu = "online-assets";
          }, 300);
        } else {
          openOnlineAssets();
          currentMenu = "online-assets";
        }
      }
    });
    document.getElementById("linkup-center").addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentMenu === "linkup-center") {
        closeSubmenu();
      } else {
        if (slideState === "menu-left") {
          slideMenuBack();
          setTimeout(() => {
            document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
            openLinkupCenter();
            currentMenu = "linkup-center";
          }, 750);
        } else if (currentMenu !== null) {
          closeSubmenu();
          setTimeout(() => {
            openLinkupCenter();
            currentMenu = "linkup-center";
          }, 300);
        } else {
          openLinkupCenter();
          currentMenu = "linkup-center";
        }
      }
    });
    document.getElementById("delivery-line").addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentMenu === "delivery-line") {
        closeSubmenu();
      } else {
        if (slideState === "menu-left") {
          slideMenuBack();
          setTimeout(() => {
            document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
            openDeliveryLine();
            currentMenu = "delivery-line";
          }, 750);
        } else if (currentMenu !== null) {
          closeSubmenu();
          setTimeout(() => {
            openDeliveryLine();
            currentMenu = "delivery-line";
          }, 300);
        } else {
          openDeliveryLine();
          currentMenu = "delivery-line";
        }
      }
    });
    document.getElementById("internal-unit").addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentMenu === "internal-unit") {
        closeSubmenu();
      } else {
        if (slideState === "menu-left") {
          slideMenuBack();
          setTimeout(() => {
            document.querySelectorAll('.menu-items .menu-item').forEach(el => { el.style.left = ""; });
            openInternalUnit();
            currentMenu = "internal-unit";
          }, 750);
        } else if (currentMenu !== null) {
          closeSubmenu();
          setTimeout(() => {
            openInternalUnit();
            currentMenu = "internal-unit";
          }, 300);
        } else {
          openInternalUnit();
          currentMenu = "internal-unit";
        }
      }
    });
  </script>
</body>
</html>
