<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IOUL</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="non-fullscreen">
    <!-- Layers -->
    <div class="layer-one"></div>
    <div class="layer-two"></div>
    <div class="layer-three"></div>
    
    <div class="page-content">
      <!-- Static lines -->
      <div class="line original"></div>
      <div class="line second"></div>
      <div class="line third"></div>
      <div class="line fourth"></div>
      
      <!-- Slide container with dashed lines and time texts -->
      <div class="slide-container">
        <div class="line dashed"></div>
        <div class="line dashed second-dashed"></div>
        <div class="line dashed third-dashed"></div>
        <div class="line dashed fourth-dashed"></div>
        <span class="time-text">10:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
        <span class="time-text second-time-text">11:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
        <span class="time-text third-time-text">12:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
        <span class="time-text fourth-time-text">1:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
      </div>
      
      <div class="hover-area"></div>
      
      <!-- Chat text (initially at left:6.41vw) -->
      <span class="chat-text" id="chatText" style="left: 6.41vw;">cHAT . . .</span>
      
      <!-- Menu container (initially at left:29vw; its children have inline left values that will yield absolute positions when container slides in) -->
      <div class="menu-container" style="left:29vw;">
        <span class="custom-text" style="top: 35.4vh; left: 6.41vw;" id="online-assets">-  OnL1nE ASSETS</span>
        <span class="custom-text" style="top: 41.6vh; left: 6.41vw;" id="linkup-center">-  L1nKUP cEnTER</span>
        <span class="custom-text" style="top: 47.8vh; left: 6.41vw;" id="delivery-line">-  DEL1VERY L1nE</span>
        <span class="custom-text" style="top: 54vh; left: 6.41vw;" id="internal-unit">-  1nTERnAL Un1T</span>
      </div>
      
      <!-- Extra custom-text elements (outside the menu container) -->
      <span class="custom-text" style="top: 35.4vh; left: -42.59vw;">AccOUnT 1nFO</span>
      <span class="custom-text" style="top: 35.4vh; left: -28.22vw;">i-cHAT: OPEn</span>
      <span class="custom-text" style="top: 41.6vh; left: -28.22vw;">i-MAIL: OPEn</span>
      <span class="custom-text" style="top: 41.6vh; left: -42.59vw;">AcT1V1TY 1nFO</span>
      <span class="custom-text" style="top: 54vh; left: -42.59vw;">YOUR L1ST</span>
      <span class="custom-text" style="top: 60.2vh; left: -42.59vw;">cHAnnELS</span>
      <span class="custom-text" style="top: 66.4vh; left: -42.59vw;">OFFER HUB</span>
      <span class="custom-text" style="top: 72.6vh; left: -42.59vw;">YOUR JOBS</span>
      <span class="custom-text" style="top: 54vh; left: -23.29vw;">OPEn</span>
      <span class="custom-text" style="top: 60.2vh; left: -23.29vw;">OPEn</span>
      <span class="custom-text" style="top: 66.4vh; left: -23.29vw;">OPEn</span>
      <span class="custom-text" style="top: 72.6vh; left: -23.29vw;">OPEn</span>
      <!-- Custom line accompanying extra custom-text elements -->
      <div class="custom-line"></div>
      
      <div class="slide-trigger"></div>
      <div class="slide-trigger-reverse"></div>
    </div>
    
    <!-- Basic Page Scripts -->
    <script>
      // Fade in page content on first mouse move
      const pageContent = document.querySelector('.page-content');
      let pageFadedIn = false;
      function fadeInPage() {
        pageContent.style.opacity = '1';
        pageFadedIn = true;
      }
      document.addEventListener('mousemove', function onFirstMouseMove() {
        if (!pageFadedIn) { fadeInPage(); }
        document.removeEventListener('mousemove', onFirstMouseMove);
      });
      
      // Fullscreen trigger on clicks near the edges
      const EDGE_MARGIN = 11;
      document.addEventListener('click', (event) => {
        const { clientX: x, clientY: y } = event;
        const { innerWidth: width, innerHeight: height } = window;
        if (!document.fullscreenElement &&
            (x <= EDGE_MARGIN || x >= width - EDGE_MARGIN ||
             y <= EDGE_MARGIN || y >= height - EDGE_MARGIN)) {
          document.documentElement.requestFullscreen();
        }
      });
      
      // Slide trigger functions (for other animations)
      const inverseTrigger = document.querySelector('.slide-trigger');
      inverseTrigger.addEventListener('click', (event) => {
        event.stopPropagation();
        document.querySelector('.slide-container').classList.remove('animate-slide');
        document.querySelector('.page-content').classList.remove('animate-grid');
      });
      const forwardTrigger = document.querySelector('.slide-trigger-reverse');
      forwardTrigger.addEventListener('click', (event) => {
        event.stopPropagation();
        document.querySelector('.slide-container').classList.add('animate-slide');
        document.querySelector('.page-content').classList.add('animate-grid');
      });
      
      // Chat text click: replace with an input
      const chatTextEl = document.getElementById("chatText");
      chatTextEl.addEventListener('click', () => {
        const chatInput = document.createElement('input');
        chatInput.type = 'text';
        chatInput.classList.add('chat-input');
        chatTextEl.insertAdjacentElement('afterend', chatInput);
        chatTextEl.remove();
        chatInput.focus();
      });
    </script>
    
    <!-- Menu Interactions and Submenu Functions -->
    <script>
      function addNewText(text, top, left) {
        let span = document.createElement("span");
        span.className = "custom-text new-text";
        span.style.top = top + "vh";
        span.style.left = left + "vw";
        span.textContent = text;
        document.querySelector(".menu-container").appendChild(span);
        setTimeout(() => { span.classList.add("visible"); }, 10);
      }
      let currentMenu = null;
      function closeSubmenu() {
        const newTexts = document.querySelectorAll('.new-text');
        newTexts.forEach(span => {
          span.style.transition = 'opacity 0.3s ease';
          span.classList.remove("visible");
        });
        setTimeout(() => {
           document.getElementById("linkup-center").classList.remove("slide-down");
           document.getElementById("delivery-line").classList.remove("slide-down");
           document.getElementById("internal-unit").classList.remove("slide-down");
           newTexts.forEach(span => span.remove());
           currentMenu = null;
        }, 300);
      }
      function openOnlineAssets() {
        document.getElementById("linkup-center").classList.add("slide-down");
        document.getElementById("delivery-line").classList.add("slide-down");
        document.getElementById("internal-unit").classList.add("slide-down");
        setTimeout(() => {
          addNewText("cOnTEnT", 41.6, 7.4);
          addNewText("LEARn1ng", 47.8, 7.4);
        }, 700);
      }
      function openLinkupCenter() {
        document.getElementById("delivery-line").classList.add("slide-down");
        document.getElementById("internal-unit").classList.add("slide-down");
        setTimeout(() => {
          addNewText("cHAnnELS", 47.8, 7.4);
          addNewText("LABOUR", 54, 7.4);
        }, 700);
      }
      function openDeliveryLine() {
        document.getElementById("internal-unit").classList.add("slide-down");
        setTimeout(() => {
          addNewText("cL1ENTS", 54, 7.4);
          addNewText("PROJEcTS", 60.2, 7.4);
        }, 700);
      }
      function openInternalUnit() {
        setTimeout(() => {
          addNewText("1nVEnTORY", 60.2, 7.4);
          addNewText("DEVOPS", 66.4, 7.4);
          addNewText("F1nAncES", 72.6, 7.4);
          addNewText("1T-cEnTER", 78.8, 7.4);
        }, 700);
      }
      
      document.getElementById("online-assets").addEventListener("click", function(e) {
        if (currentMenu === "online-assets") {
            closeSubmenu();
        } else {
            if (currentMenu !== null) {
                closeSubmenu();
                setTimeout(() => {
                  openOnlineAssets();
                  currentMenu = "online-assets";
                }, 300);
            } else {
                openOnlineAssets();
                currentMenu = "online-assets";
            }
        }
      });
      document.getElementById("linkup-center").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMenu === "linkup-center") {
            closeSubmenu();
        } else {
            if (currentMenu !== null) {
                closeSubmenu();
                setTimeout(() => {
                  openLinkupCenter();
                  currentMenu = "linkup-center";
                }, 300);
            } else {
                openLinkupCenter();
                currentMenu = "linkup-center";
            }
        }
      });
      document.getElementById("delivery-line").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMenu === "delivery-line") {
            closeSubmenu();
        } else {
            if (currentMenu !== null) {
                closeSubmenu();
                setTimeout(() => {
                  openDeliveryLine();
                  currentMenu = "delivery-line";
                }, 300);
            } else {
                openDeliveryLine();
                currentMenu = "delivery-line";
            }
        }
      });
      document.getElementById("internal-unit").addEventListener("click", function(e) {
        e.stopPropagation();
        if (currentMenu === "internal-unit") {
            closeSubmenu();
        } else {
            if (currentMenu !== null) {
                closeSubmenu();
                setTimeout(() => {
                  openInternalUnit();
                  currentMenu = "internal-unit";
                }, 300);
            } else {
                openInternalUnit();
                currentMenu = "internal-unit";
            }
        }
      });
    </script>
    
    <!-- Designated-area listener for Region A and Region B -->
    <script>
      // Global mode: "normal", "menu", or "custom"
      let currentMode = "normal";
      const chatTextNode = document.getElementById("chatText");
      const menuCont = document.querySelector(".menu-container");
      
      document.addEventListener("click", (event) => {
        const vw = window.innerWidth / 100;
        const vh = window.innerHeight / 100;
        const x = event.clientX;
        const y = event.clientY;
        // Define Region A: x between 28.86vw and 32.43vw; y between 28.5vh and 84vh.
        const inRegionA = (x >= 28.86 * vw && x <= 32.43 * vw && y >= 28.5 * vh && y <= 84 * vh);
        // Define Region B: x between 0 and 6.41vw; y between 28.5vh and 84vh.
        const inRegionB = (x >= 0 && x <= 6.41 * vw && y >= 28.5 * vh && y <= 84 * vh);
        
        if(inRegionA) {
          if(currentMode === "normal") {
            // Enter menu mode: slide chat-text left and slide menu-container from left 29vw to 0vw.
            chatTextNode.style.transition = "left 0.7s ease";
            chatTextNode.style.left = "-22.59vw"; // 6.41 - 29
            menuCont.style.transition = "left 0.7s ease";
            menuCont.style.left = "0vw";
            currentMode = "menu";
          } else if(currentMode === "menu") {
            // Exit menu mode:
            chatTextNode.style.transition = "left 0.7s ease";
            chatTextNode.style.left = "6.41vw";
            menuCont.style.transition = "left 0.7s ease";
            menuCont.style.left = "29vw";
            const newTexts = menuCont.querySelectorAll(".new-text");
            newTexts.forEach(span => span.remove());
            currentMode = "normal";
          } else if(currentMode === "custom") {
            // Exit custom mode: remove custom-slide classes then fade chat-text back in.
            const customTexts = document.querySelectorAll('.custom-text:not(.menu-container .custom-text)');
            customTexts.forEach(el => el.classList.remove("custom-slide"));
            const customLine = document.querySelector('.custom-line');
            if(customLine){ customLine.classList.remove("custom-slide"); }
            setTimeout(() => {
              chatTextNode.style.transition = "opacity 0.7s ease";
              chatTextNode.style.opacity = "1";
              currentMode = "normal";
            }, 700);
          }
        }
        else if(inRegionB) {
          if(currentMode === "normal") {
            // Enter custom mode: fade out chat-text and slide in extra custom-text elements.
            chatTextNode.style.transition = "opacity 0.3s ease";
            chatTextNode.style.opacity = "0";
            const customTexts = document.querySelectorAll('.custom-text:not(.menu-container .custom-text)');
            customTexts.forEach(el => el.classList.add("custom-slide"));
            const customLine = document.querySelector('.custom-line');
            if(customLine){ customLine.classList.add("custom-slide"); }
            currentMode = "custom";
          } else if(currentMode === "custom") {
            // Exit custom mode:
            const customTexts = document.querySelectorAll('.custom-text:not(.menu-container .custom-text)');
            customTexts.forEach(el => el.classList.remove("custom-slide"));
            const customLine = document.querySelector('.custom-line');
            if(customLine){ customLine.classList.remove("custom-slide"); }
            setTimeout(() => {
              chatTextNode.style.transition = "opacity 0.7s ease";
              chatTextNode.style.opacity = "1";
              currentMode = "normal";
            }, 700);
          } else if(currentMode === "menu") {
            // If in menu mode, exit it (same as Region A exit).
            chatTextNode.style.transition = "left 0.7s ease";
            chatTextNode.style.left = "6.41vw";
            menuCont.style.transition = "left 0.7s ease";
            menuCont.style.left = "29vw";
            const newTexts = menuCont.querySelectorAll(".new-text");
            newTexts.forEach(span => span.remove());
            currentMode = "normal";
          }
        }
      });
    </script>
  </body>
</html>
