<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IOUL</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="stylesheet" href="styles.css" />

<style>
.hidden { display:none !important; }
</style>

</head>
<body class="non-fullscreen">

  <div class="layer-one"></div>
  <div class="layer-two"></div>
  <div class="layer-three"></div>

  <div class="page-content">
    <div class="menu-items">
      <span class="custom-text menu-item" style="top:36.1vh; left:29vw;" id="online-assets">
        OnL1nE ASSETS:
      </span>
      <span class="custom-text menu-item" style="top:43.2vh; left:29vw;" id="linkup-center">
        L1nKUP cEnTER:
      </span>
      <span class="custom-text menu-item" style="top:50.3vh; left:29vw;" id="delivery-line">
        DEL1VERY L1nE:
      </span>
      <span class="custom-text menu-item" style="top:57.4vh; left:29vw;" id="internal-unit">
        1nTERnAL Un1T:
      </span>
    </div>

    <div class="layer-four"></div>

    <div class="community-items-container" style="position: absolute; z-index: 1;">
      <!-- community items -->
    </div>

    <div class="zero-items-container" style="position: absolute; z-index: 1;">
      <!-- zero items -->
    </div>

    <div class="other-content">
      <!-- other content -->
    </div>
  </div>

  <div class="slide-triggers">
    <div class="slide-trigger"></div>
    <div class="slide-trigger-reverse"></div>
  </div>

  <script>
    // Existing JS for fade-in, chat, menu, scrolling, account visibility...
  </script>

<script>
// Account visibility based on viewport rectangle
document.addEventListener('DOMContentLoaded', () => {
  const accountEls = document.querySelectorAll('.account-text, .account-line');
  const update = () => {
    const w = window.innerWidth;
    const h = window.innerHeight;
    const leftMin = w * (-40 / 100);
    const leftMax = w * (36 / 100);
    const topMin = h * (28.5 / 100);
    const topMax = h * (84 / 100);
    accountEls.forEach(el => {
      const rect = el.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;
      const hidden = cx >= leftMin && cx <= leftMax && cy >= topMin && cy <= topMax;
      el.style.opacity = hidden ? '0' : '';
      el.style.pointerEvents = hidden ? 'none' : '';
    });
  };
  update();
  window.addEventListener('scroll', update, { passive: true });
  window.addEventListener('resize', update);
});
</script>

<!-- New inverse slide trigger for account elements -->
<script>
document.addEventListener('click', function(event) {
  const vwUnit = window.innerWidth / 100;
  const vhUnit = window.innerHeight / 100;
  const leftMin = 32.43 * vwUnit;
  const leftMax = 36 * vwUnit;
  const topMin = 28.5 * vhUnit;
  const topMax = 84 * vhUnit;
  if (event.clientX >= leftMin && event.clientX <= leftMax &&
      event.clientY >= topMin && event.clientY <= topMax) {
    event.stopPropagation();
    const accountEls = document.querySelectorAll('.account-text, .account-line');
    accountEls.forEach(el => {
      if (!el.dataset.originalLeft) el.dataset.originalLeft = el.style.left;
      const currentLeft = parseFloat(el.dataset.originalLeft);
      const newLeft = currentLeft + 60;
      el.style.transition = 'left 0.7s ease';
      // remain invisible until crossing >36vw
      el.style.opacity = '0';
      el.style.pointerEvents = 'none';
      el.style.left = newLeft + 'vw';
      el.addEventListener('transitionend', function handler(e) {
        if (e.propertyName === 'left') {
          const rect = el.getBoundingClientRect();
          if (rect.left >= (36 * vwUnit)) {
            el.style.opacity = '';
            el.style.pointerEvents = '';
          }
          el.removeEventListener('transitionend', handler);
        }
      });
    });
  }
}, true);
</script>

</body>
</html>
