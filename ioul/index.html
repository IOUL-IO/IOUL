<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IOUL</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="non-fullscreen">
  <!-- Decorative Lines -->
  <div class="line original"></div>
  <div class="line second"></div>
  <div class="line third"></div>
  <div class="line fourth"></div>
  <div class="line dashed"></div>
  <div class="line dashed second-dashed"></div>
  <div class="line dashed third-dashed"></div>
  <div class="line dashed fourth-dashed"></div>

  <!-- Time Texts -->
  <span class="time-text">10:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
  <span class="time-text second-time-text">11:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
  <span class="time-text third-time-text">12:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
  <span class="time-text fourth-time-text">1:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>

  <!-- 
    CONTAINER that holds anything you want to fade in/out. 
    It also contains the 'hover-detect' area plus the actual text (and possibly more elements in the future).
  -->
  <div class="fading-container">
    <!-- HOVER DETECTION AREA -->
    <div class="hover-detect"></div>
    
    <!-- Chat Text (and any future elements) -->
    <span class="chat-text">cHAT . . .</span>
  </div>

  <script>
    // === Fullscreen + Fade-In Setup ===
    let fadeCompleted = false;
    let initialClickCompleted = false;
    const EDGE_MARGIN = 11; // "Near edge" threshold

    document.addEventListener('click', (event) => {
      // If this is the very first click anywhere on the page:
      if (!initialClickCompleted) {
        initialClickCompleted = true;

        // 1) Request fullscreen (if not already)
        if (!document.fullscreenElement) {
          document.documentElement.requestFullscreen();
        }

        // 2) Trigger fade-in animation
        setTimeout(() => {
          document.body.classList.add('fade-in-trigger');
        }, 1000);

        // Mark fade completion after 4 seconds (adjust as needed)
        setTimeout(() => {
          fadeCompleted = true;
        }, 4000);
      } else {
        // For *subsequent* clicks, only go fullscreen if we're near an edge
        const x = event.clientX;
        const y = event.clientY;
        const width = window.innerWidth;
        const height = window.innerHeight;

        const nearLeft = x <= EDGE_MARGIN;
        const nearRight = x >= width - EDGE_MARGIN;
        const nearTop = y <= EDGE_MARGIN;
        const nearBottom = y >= height - EDGE_MARGIN;

        // If near any edge and not fullscreen, request fullscreen
        if (!document.fullscreenElement && (nearLeft || nearRight || nearTop || nearBottom)) {
          document.documentElement.requestFullscreen();
        }
      }
    });

    // === Container Fade-In/Out Logic ===
    const container = document.querySelector('.fading-container');
    const hoverDetect = document.querySelector('.hover-detect');
    
    // We only fade in automatically the *first* time you hover over the designated area
    let containerShownOnce = false;
    
    // We'll track inactivity with a timer
    let inactivityTimer = null;

    // Fade container in
    function showContainer() {
      container.style.opacity = '1';
    }

    // Fade container out
    function hideContainer() {
      container.style.opacity = '0';
    }

    // Reset inactivity timer
    function resetInactivityTimer() {
      // If there's an existing timer, clear it
      if (inactivityTimer) {
        clearTimeout(inactivityTimer);
      }

      // If container has already been shown, make sure it's visible
      if (containerShownOnce) {
        showContainer();
      }

      // Set a new timer for 60s of inactivity
      inactivityTimer = setTimeout(() => {
        // If it has been shown once before, fade out after inactivity
        if (containerShownOnce) {
          hideContainer();
        }
      }, 60 * 1000);
    }

    // When mouse first enters the hover-detect area, show the container
    hoverDetect.addEventListener('mouseenter', () => {
      if (!containerShownOnce) {
        containerShownOnce = true;
        showContainer();
      }
    });

    // On any mouse movement, reset inactivity timer
    document.addEventListener('mousemove', () => {
      resetInactivityTimer();
    });
  </script>
</body>
</html>
