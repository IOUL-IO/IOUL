<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IOUL</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="stylesheet" href="styles.css" />

  <style>
    .hidden { display:none !important; }
  </style>
</head>
<body class="non-fullscreen">
  <div class="layer-one"></div>
  <div class="layer-two"></div>
  <div class="layer-three"></div>
  <div class="page-content">
    <!-- … your menu, community, zero-items, other-content, etc. up to slide-container … -->

    <div class="other-content">
      <!-- … everything before slide-container … -->

      <!-- slide-container now holds your manual account texts & line -->
      <div class="slide-container">
        <span class="account-text"
              style="position:absolute; top:35.4vh; left:-24.00vw;">
          AccOUnT&nbsp;nAME
        </span>
        <span class="account-text"
              style="position:absolute; top:35.4vh; left:26.00vw;">
          L1nK&nbsp;UP
        </span>
        <span class="account-text right-flow"
              style="position:absolute; top:35.4vh; left:33.19vw;">
          0
        </span>
        <span class="account-text"
              style="position:absolute; top:77vh; left:-24.00vw; color:#111111;">
          . . .
        </span>
        <div class="line account-line"
             style="position:absolute; top:41.6vh; left:-24.00vw;
                    width:57.8vw; height:1px;
                    background-color: rgba(230, 230, 230, 0.28); z-index:1;">
        </div>
      </div>

      <div class="hover-area"></div>
      <span class="chat-text" id="chatText">cHAT . . .</span>
      <!-- … the rest of your mail-text, account-container wrappers, etc.… -->
    </div>

    <!-- slide-triggers and the two click-handlers below … -->
    <div class="slide-triggers">
      <div class="slide-trigger"></div>
      <div class="slide-trigger-reverse"></div>
    </div>

    <script>
      let slideState = "none";

      document.addEventListener('click', (event) => {
        if (event.target.closest('.menu-item') || event.target.closest('.chat-text')) return;
        const vwUnit = window.innerWidth / 100;
        const vhUnit = window.innerHeight / 100;
        const leftMin = 0;
        const leftMax = 6.37 * vwUnit;
        const yMin = 28.5 * vhUnit;
        const yMax = 84 * vhUnit;
        if (event.clientX >= leftMin && event.clientX <= leftMax &&
            event.clientY >= yMin && event.clientY <= yMax) {
          event.stopPropagation();
          forceCloseSubmenuThen(() => {
            if (slideState === "community") {
              slideState = "menu";
              return;
            } else if (slideState === "menu") {
              slideState = "none";
            } else if (slideState === "heading" || slideState === "account") {
              document.querySelectorAll('.slide-container .account-text, .slide-container .account-line')
                      .forEach(el => {
                        const orig = el.dataset.originalTransform || '';
                        el.style.transition = 'transform 0.7s ease';
                        el.style.transform = orig;
                      });
              slideState = "none";
            } else if (slideState === "none") {
              const chatTextEl = document.getElementById('chatText');
              if (chatTextEl) {
                chatTextEl.style.transition = 'opacity 0.1s ease';
                chatTextEl.style.opacity = '0';
                setTimeout(() => {
                  document.querySelectorAll('.heading-container[data-slide-group="heading"]')
                          .forEach(box => box.style.transform = 'translateX(0)');
                  document.querySelectorAll('.account-container[data-slide-group="account"]')
                          .forEach(box => box.style.transform = 'translateX(0)');

                  document.querySelectorAll('.slide-container .account-text, .slide-container .account-line')
                          .forEach(el => {
                            if (!el.dataset.originalTransform) {
                              el.dataset.originalTransform = el.style.transform || '';
                            }
                            el.style.transition = 'transform 0.7s ease';
                            el.style.transform = 'translateX(60vw)';
                          });
                }, 110);
              }
              slideState = "heading";
            }
          });
        }
      }, true);
    </script>
  </div>
</body>
</html>
