<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IOUL</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="non-fullscreen">
  <div class="layer-one"></div>
  <div class="layer-two"></div>
  <div class="layer-three"></div>

  <div class="page-content">
    <!-- Existing lines, grid, etc. -->
    <div class="line original"></div>
    <div class="line second"></div>
    <div class="line third"></div>
    <div class="line fourth"></div>

    <div class="slide-container">
      <div class="line dashed"></div>
      <div class="line dashed second-dashed"></div>
      <div class="line dashed third-dashed"></div>
      <div class="line dashed fourth-dashed"></div>
      <span class="time-text">10:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
      <span class="time-text second-time-text">11:00&nbsp;&nbsp;&nbsp;&nbsp;AM</span>
      <span class="time-text third-time-text">12:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
      <span class="time-text fourth-time-text">1:00&nbsp;&nbsp;&nbsp;&nbsp;PM</span>
    </div>

    <div class="hover-area"></div>
    <span class="chat-text" id="chatText">cHAT . . .</span>

    <!-- Grid numbers and dashed grid elements (unchanged) -->
    <!-- ... -->

    <!-- Original custom texts -->
    <span class="custom-text" style="top: 35.4vh; left: -42.59vw;">AccOUnT 1nFO</span>
    <span class="custom-text" style="top: 35.4vh; left: -28.22vw;">i-cHAT: OPEn</span>
    <span class="custom-text" style="top: 41.6vh; left: -28.22vw;">i-MAIL: OPEn</span>
    <span class="custom-text" style="top: 41.6vh; left: -42.59vw;">AcT1V1TY 1nFO</span>
    <span class="custom-text" style="top: 54vh; left: -42.59vw;">YOUR L1ST</span>
    <span class="custom-text" style="top: 60.2vh; left: -42.59vw;">cHAnnELS</span>
    <span class="custom-text" style="top: 66.4vh; left: -42.59vw;">OFFER HUB</span>
    <span class="custom-text" style="top: 72.6vh; left: -42.59vw;">YOUR JOBS</span>
    <span class="custom-text" style="top: 35.4vh; left: -23.29vw;">OPEn</span>
    <span class="custom-text" style="top: 41.6vh; left: -23.29vw;">OPEn</span>
    <span class="custom-text" style="top: 47.8vh; left: -23.29vw;">OPEn</span>
    <span class="custom-text" style="top: 54vh; left: -23.29vw;">OPEn</span>

    <!-- Updated OnL1nE ASSETS and submenu structure -->
    <span class="custom-text" id="online-assets" style="top: 35.4vh; left: 6.41vw; cursor: pointer;">-  OnL1nE ASSETS</span>
    <div id="assets-submenu">
      <!-- Level 1 submenu items -->
      <span class="custom-text submenu-item" id="linkup" style="top: 41.6vh; left: 6.41vw;">-  L1nKUP cEnTER</span>
      <span class="custom-text submenu-item" id="delivery" style="top: 47.8vh; left: 6.41vw;">-  DEL1VERY L1nE</span>
      <span class="custom-text submenu-item" id="internal" style="top: 54vh; left: 6.41vw;">-  1nTERnAL Un1T</span>
      <!-- Level 1 new texts (appear after OnL1nE ASSETS opens) -->
      <span class="custom-text new-item" id="content-text" style="top: 41.6vh; left: 7.4vw; opacity: 0;">cOnTEnT</span>
      <span class="custom-text new-item" id="learning-text" style="top: 47.8vh; left: 7.4vw; opacity: 0;">LEARn1ng</span>
      <!-- Nested new texts for L1nKUP cEnTER -->
      <span class="custom-text nested-new" id="linkup-new1" style="top: 47.8vh; left: 7.4vw; opacity: 0;">cHAnnELS</span>
      <span class="custom-text nested-new" id="linkup-new2" style="top: 54vh; left: 7.4vw; opacity: 0;">LABOUR</span>
      <!-- Nested new texts for DEL1VERY L1nE -->
      <span class="custom-text nested-new" id="delivery-new1" style="top: 54vh; left: 7.4vw; opacity: 0;">cL1ENTS</span>
      <span class="custom-text nested-new" id="delivery-new2" style="top: 60.2vh; left: 7.4vw; opacity: 0;">PROJEcTS</span>
      <!-- Nested new texts for 1nTERnAL Un1T -->
      <span class="custom-text nested-new" id="internal-new1" style="top: 60.2vh; left: 7.4vw; opacity: 0;">1nVEnTORY</span>
      <span class="custom-text nested-new" id="internal-new2" style="top: 66.4vh; left: 7.4vw; opacity: 0;">DEVOPS</span>
      <span class="custom-text nested-new" id="internal-new3" style="top: 72.6vh; left: 7.4vw; opacity: 0;">F1nAncES</span>
      <span class="custom-text nested-new" id="internal-new4" style="top: 78.8vh; left: 7.4vw; opacity: 0;">1T-cEnTER</span>
    </div>

    <div class="slide-trigger"></div>
    <div class="slide-trigger-reverse"></div>
  </div>

  <script>
    // --- Page fade-in and fullscreen (unchanged) ---
    const pageContent = document.querySelector('.page-content');
    let pageFadedIn = false;
    function fadeInPage() {
      pageContent.style.opacity = '1';
      pageFadedIn = true;
    }
    document.addEventListener('mousemove', function onFirstMouseMove() {
      if (!pageFadedIn) { fadeInPage(); }
      document.removeEventListener('mousemove', onFirstMouseMove);
    });
    const EDGE_MARGIN = 11;
    document.addEventListener('click', (event) => {
      const { clientX: x, clientY: y } = event;
      const { innerWidth: width, innerHeight: height } = window;
      if (!document.fullscreenElement &&
          (x <= EDGE_MARGIN || x >= width - EDGE_MARGIN ||
           y <= EDGE_MARGIN || y >= height - EDGE_MARGIN)) {
        document.documentElement.requestFullscreen();
      }
    });
    const inverseTrigger = document.querySelector('.slide-trigger');
    inverseTrigger.addEventListener('click', (event) => {
      event.stopPropagation();
      document.querySelector('.slide-container').classList.remove('animate-slide');
      document.querySelector('.page-content').classList.remove('animate-grid');
    });
    const forwardTrigger = document.querySelector('.slide-trigger-reverse');
    forwardTrigger.addEventListener('click', (event) => {
      event.stopPropagation();
      document.querySelector('.slide-container').classList.add('animate-slide');
      document.querySelector('.page-content').classList.add('animate-grid');
    });
    const chatText = document.getElementById('chatText');
    let chatShownOnce = false;
    const hoverArea = document.querySelector('.hover-area');
    hoverArea.addEventListener('mouseenter', () => {
      if (!chatShownOnce && pageFadedIn) {
        chatText.style.opacity = '1';
        chatShownOnce = true;
      }
    });
    chatText.addEventListener('click', () => {
      const chatInput = document.createElement('input');
      chatInput.type = 'text';
      chatInput.classList.add('chat-input');
      chatText.insertAdjacentElement('afterend', chatInput);
      chatText.remove();
      chatInput.focus();
    });

    // --- Level 1 (assets) submenu open/close ---
    let assetsOpen = false;
    const onlineAssetsEl = document.getElementById('online-assets');
    onlineAssetsEl.addEventListener('click', function(e) {
      e.stopPropagation();
      // If a nested submenu is open, close it first.
      if (nestedOpen) { closeNestedSubmenu(nestedOpen); nestedOpen = null; }
      if (!assetsOpen) {
        // Open: slide level1 submenu items down and reveal level1 new texts.
        const submenuItems = document.querySelectorAll('#assets-submenu .submenu-item');
        submenuItems.forEach(function(item) {
          item.classList.add('slide-down');
        });
        const lastItem = submenuItems[submenuItems.length - 1];
        lastItem.addEventListener('transitionend', function() {
          const newItems = document.querySelectorAll('#assets-submenu .new-item');
          newItems.forEach(function(item) {
            item.style.opacity = '1';
          });
        }, {once: true});
        assetsOpen = true;
      }
    });

    // --- Nested submenu state & helper ---
    let nestedOpen = null;
    function closeNestedSubmenu(id) {
      if (id === 'linkup') {
        document.getElementById('linkup-new1').style.opacity = '0';
        document.getElementById('linkup-new2').style.opacity = '0';
        const submenuItems = Array.from(document.querySelectorAll('#assets-submenu .submenu-item'));
        const index = submenuItems.findIndex(item => item.id === 'linkup');
        const siblingsToSlide = submenuItems.slice(index + 1);
        siblingsToSlide.forEach(item => item.classList.remove('slide-down'));
      } else if (id === 'delivery') {
        document.getElementById('delivery-new1').style.opacity = '0';
        document.getElementById('delivery-new2').style.opacity = '0';
        const submenuItems = Array.from(document.querySelectorAll('#assets-submenu .submenu-item'));
        const index = submenuItems.findIndex(item => item.id === 'delivery');
        const siblingsToSlide = submenuItems.slice(index + 1);
        siblingsToSlide.forEach(item => item.classList.remove('slide-down'));
      } else if (id === 'internal') {
        document.getElementById('internal-new1').style.opacity = '0';
        document.getElementById('internal-new2').style.opacity = '0';
        document.getElementById('internal-new3').style.opacity = '0';
        document.getElementById('internal-new4').style.opacity = '0';
      }
    }

    // --- Nested submenu open for each level1 item ---
    const linkupEl = document.getElementById('linkup');
    linkupEl.addEventListener('click', function(e) {
      e.stopPropagation();
      if (nestedOpen && nestedOpen !== 'linkup') {
        closeNestedSubmenu(nestedOpen);
      }
      if (nestedOpen === 'linkup') {
        closeNestedSubmenu('linkup');
        nestedOpen = null;
      } else {
        const submenuItems = Array.from(document.querySelectorAll('#assets-submenu .submenu-item'));
        const index = submenuItems.indexOf(linkupEl);
        const siblingsToSlide = submenuItems.slice(index + 1);
        siblingsToSlide.forEach(item => item.classList.add('slide-down'));
        if (siblingsToSlide.length > 0) {
          const lastItem = siblingsToSlide[siblingsToSlide.length - 1];
          lastItem.addEventListener('transitionend', function() {
            document.getElementById('linkup-new1').style.opacity = '1';
            document.getElementById('linkup-new2').style.opacity = '1';
          }, {once: true});
        } else {
          document.getElementById('linkup-new1').style.opacity = '1';
          document.getElementById('linkup-new2').style.opacity = '1';
        }
        nestedOpen = 'linkup';
      }
    });

    const deliveryEl = document.getElementById('delivery');
    deliveryEl.addEventListener('click', function(e) {
      e.stopPropagation();
      if (nestedOpen && nestedOpen !== 'delivery') {
        closeNestedSubmenu(nestedOpen);
      }
      if (nestedOpen === 'delivery') {
        closeNestedSubmenu('delivery');
        nestedOpen = null;
      } else {
        const submenuItems = Array.from(document.querySelectorAll('#assets-submenu .submenu-item'));
        const index = submenuItems.indexOf(deliveryEl);
        const siblingsToSlide = submenuItems.slice(index + 1);
        siblingsToSlide.forEach(item => item.classList.add('slide-down'));
        if (siblingsToSlide.length > 0) {
          const lastItem = siblingsToSlide[siblingsToSlide.length - 1];
          lastItem.addEventListener('transitionend', function() {
            document.getElementById('delivery-new1').style.opacity = '1';
            document.getElementById('delivery-new2').style.opacity = '1';
          }, {once: true});
        } else {
          document.getElementById('delivery-new1').style.opacity = '1';
          document.getElementById('delivery-new2').style.opacity = '1';
        }
        nestedOpen = 'delivery';
      }
    });

    const internalEl = document.getElementById('internal');
    internalEl.addEventListener('click', function(e) {
      e.stopPropagation();
      if (nestedOpen && nestedOpen !== 'internal') {
        closeNestedSubmenu(nestedOpen);
      }
      if (nestedOpen === 'internal') {
        closeNestedSubmenu('internal');
        nestedOpen = null;
      } else {
        // For the last item, directly reveal nested new texts.
        document.getElementById('internal-new1').style.opacity = '1';
        document.getElementById('internal-new2').style.opacity = '1';
        document.getElementById('internal-new3').style.opacity = '1';
        document.getElementById('internal-new4').style.opacity = '1';
        nestedOpen = 'internal';
      }
    });

    // --- Global click: if any submenu (level1 or nested) is open, close it ---
    document.addEventListener('click', function() {
      if (assetsOpen) {
        const level1NewItems = document.querySelectorAll('#assets-submenu .new-item');
        level1NewItems.forEach(item => item.style.opacity = '0');
        const submenuItems = document.querySelectorAll('#assets-submenu .submenu-item');
        submenuItems.forEach(item => item.classList.remove('slide-down'));
        assetsOpen = false;
      }
      if (nestedOpen) {
        closeNestedSubmenu(nestedOpen);
        nestedOpen = null;
      }
    });

    // --- Also preserve designated area click events for chat and custom text slides (from your original code) ---
    document.addEventListener('click', (event) => {
      const vwUnit = window.innerWidth / 100;
      const vhUnit = window.innerHeight / 100;
      const xLimit = 6.37 * vwUnit;
      const yMin = 28.5 * vhUnit;
      const yMax = 84 * vhUnit;
      if (event.clientX >= 0 && event.clientX <= xLimit &&
          event.clientY >= yMin && event.clientY <= yMax) {
        event.stopPropagation();
        const chatTextEl = document.querySelector('.chat-text');
        if (chatTextEl) {
          chatTextEl.style.transition = "opacity 0.1s ease";
          chatTextEl.style.opacity = "0";
          setTimeout(() => {
            chatTextEl.classList.add('chat-slide');
          }, 110);
        }
        const chatInputEl = document.querySelector('.chat-input');
        if (chatInputEl) {
          chatInputEl.classList.add('chat-slide');
        }
        const customTextEls = document.querySelectorAll('.custom-text');
        customTextEls.forEach(el => {
          el.classList.add('custom-slide');
        });
        const customLineEl = document.querySelector('.custom-line');
        if (customLineEl) {
          customLineEl.classList.add('custom-slide');
        }
      }
    });
    document.addEventListener('click', (event) => {
      const vwUnit = window.innerWidth / 100;
      const vhUnit = window.innerHeight / 100;
      const leftMin = 28.87 * vwUnit;
      const leftMax = 32.44 * vwUnit;
      const yMin = 28.5 * vhUnit;
      const yMax = 84 * vhUnit;
      if (event.clientX >= leftMin && event.clientX <= leftMax &&
          event.clientY >= yMin && event.clientY <= yMax) {
        event.stopPropagation();
        const chatTextEl = document.querySelector('.chat-text');
        if (chatTextEl) {
          chatTextEl.classList.remove('chat-slide');
          setTimeout(() => {
            chatTextEl.style.opacity = "1";
          }, 700);
        }
        const chatInputEl = document.querySelector('.chat-input');
        if (chatInputEl) {
          chatInputEl.classList.remove('chat-slide');
        }
        const customTextEls = document.querySelectorAll('.custom-text');
        customTextEls.forEach(el => {
          el.classList.remove('custom-slide');
          el.style.transition = "transform 0.7s ease";
        });
        const customLineEl = document.querySelector('.custom-line');
        if (customLineEl) {
          customLineEl.classList.remove('custom-slide');
          customLineEl.style.transition = "transform 0.7s ease";
        }
      }
    });
  </script>
</body>
</html>
